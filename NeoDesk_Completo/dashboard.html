<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeoDesk - Dashboard</title>
    <link rel="stylesheet" href="styles-vertical.css">
    <link rel="stylesheet" href="styles-horizontal.css" media="(min-width: 768px)">
</head>
<body>
    <!-- Header -->
    <header class="main-header">
        <div class="header-left">
            <h1 class="logo">NeoDesk</h1>
            <nav class="main-nav">
                <button class="nav-btn" data-page="meus-chamados" onclick="window.location.href='fila-espera.html'">Meus chamados</button>
                <button class="nav-btn active" data-page="dashboard">Dashboard</button>
                <button class="nav-btn" data-page="agenda">Agenda</button>
                <button class="nav-btn btn-primary" data-page="abrir-chamado" onclick="window.location.href='abrir-chamado.html'">Abrir Chamado</button>
            </nav>
        </div>
        
        <div class="header-right">
            <!-- Campo de Pesquisa no Header -->
            <div class="search-box">
                <input type="text" placeholder="Pesquisar" id="searchInput">
                <button class="search-btn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"/>
                        <path d="m21 21-4.35-4.35"/>
                    </svg>
                </button>
            </div>

            <!-- Notificações -->
            <div class="header-icon-wrapper">
                <button class="header-icon" id="notificationsBtn">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
                        <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
                    </svg>
                    <span class="notification-badge">2</span>
                </button>
                <div class="dropdown-menu" id="notificationsMenu">
                    <div class="dropdown-header">Notificações</div>
                    <div class="notification-item">
                        <p><strong>Novo chamado atribuído</strong></p>
                        <p class="notification-text">Chamado #0000001 - Banco de dados corrompido</p>
                        <span class="notification-time">Há 5 minutos</span>
                    </div>
                    <div class="notification-item">
                        <p><strong>Chamado atualizado</strong></p>
                        <p class="notification-text">Chamado #0000002 - Empresa pegando fogo</p>
                        <span class="notification-time">Há 1 hora</span>
                    </div>
                </div>
            </div>

            <!-- Status de Conexão -->
            <div class="header-icon-wrapper">
                <button class="header-icon" id="connectionStatus">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" id="wifiIcon">
                        <path d="M5 12.55a11 11 0 0 1 14.08 0"/>
                        <path d="M1.42 9a16 16 0 0 1 21.16 0"/>
                        <path d="M8.53 16.11a6 6 0 0 1 6.95 0"/>
                        <line x1="12" y1="20" x2="12.01" y2="20"/>
                    </svg>
                </button>
                <div class="offline-message" id="offlineMessage">
                    Você está sem internet
                </div>
            </div>

            <!-- Configurações -->
            <div class="header-icon-wrapper">
                <button class="header-icon" id="settingsBtn">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3"/>
                        <path d="M12 1v6m0 6v6m5.2-13.8l-4.2 4.2m-2 2l-4.2 4.2M23 12h-6m-6 0H1m17.8 5.2l-4.2-4.2m-2-2l-4.2-4.2"/>
                    </svg>
                </button>
                <div class="dropdown-menu" id="settingsMenu">
                    <button class="dropdown-item" onclick="changePassword()">Trocar de senha</button>
                    <button class="dropdown-item" onclick="logout()">Sair</button>
                </div>
            </div>

            <!-- Perfil -->
            <div class="header-icon-wrapper">
                <button class="header-icon" id="profileBtn">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                        <circle cx="12" cy="7" r="4"/>
                    </svg>
                </button>
                <div class="dropdown-menu dropdown-profile" id="profileMenu">
                    <div class="profile-info">
                        <p class="profile-name" id="userName">Nome do Usuário</p>
                        <p class="profile-email" id="userEmail">usuario@email.com</p>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="main-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="company-logo">
                <img src="" alt="Logo da Empresa" id="companyLogo">
            </div>
            <nav class="sidebar-nav">
                <button class="sidebar-item" onclick="window.location.href='fila-espera.html'">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2"/>
                        <path d="M9 3v18"/>
                    </svg>
                    <span>Fila de espera</span>
                </button>
                <button class="sidebar-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2"/>
                    </svg>
                    <span>Botão</span>
                </button>
                <button class="sidebar-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2"/>
                    </svg>
                    <span>Botão</span>
                </button>
                <button class="sidebar-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2"/>
                    </svg>
                    <span>Botão</span>
                </button>
                <button class="sidebar-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2"/>
                    </svg>
                    <span>Botão</span>
                </button>
                <button class="sidebar-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2"/>
                    </svg>
                    <span>Botão</span>
                </button>
                <button class="sidebar-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2"/>
                    </svg>
                    <span>Botão</span>
                </button>
            </nav>
        </aside>

        <!-- Content Area -->
        <main class="content-area dashboard-content">
            <!-- Filtros de Data -->
            <div class="dashboard-filters">
                <div class="date-filters">
                    <div class="date-input-wrapper">
                        <input type="date" id="startDate" class="date-input" value="2025-02-28">
                        <svg class="calendar-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                            <line x1="16" y1="2" x2="16" y2="6"/>
                            <line x1="8" y1="2" x2="8" y2="6"/>
                            <line x1="3" y1="10" x2="21" y2="10"/>
                        </svg>
                    </div>

                    <div class="date-input-wrapper">
                        <input type="date" id="endDate" class="date-input" value="2025-05-14">
                        <svg class="calendar-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                            <line x1="16" y1="2" x2="16" y2="6"/>
                            <line x1="8" y1="2" x2="8" y2="6"/>
                            <line x1="3" y1="10" x2="21" y2="10"/>
                        </svg>
                    </div>

                    <button class="btn-search-dates" onclick="filterByDates()">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"/>
                            <path d="m21 21-4.35-4.35"/>
                        </svg>
                    </button>
                </div>

                <button class="btn-download" onclick="downloadReport()">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                        <polyline points="7 10 12 15 17 10"/>
                        <line x1="12" y1="15" x2="12" y2="3"/>
                    </svg>
                    <span>Baixar</span>
                </button>
            </div>

            <!-- Cards de Indicadores -->
            <div class="dashboard-cards">
                <div class="dashboard-card card-created">
                    <div class="card-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 5v14M5 12h14"/>
                        </svg>
                    </div>
                    <div class="card-content">
                        <h3 class="card-value" id="createdTickets">0</h3>
                        <p class="card-label">Chamados Criados</p>
                    </div>
                </div>

                <div class="dashboard-card card-progress">
                    <div class="card-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <polyline points="12 6 12 12 16 14"/>
                        </svg>
                    </div>
                    <div class="card-content">
                        <h3 class="card-value" id="progressTickets">0</h3>
                        <p class="card-label">Em Andamento</p>
                    </div>
                </div>

                <div class="dashboard-card card-closed">
                    <div class="card-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"/>
                        </svg>
                    </div>
                    <div class="card-content">
                        <h3 class="card-value" id="closedTickets">0</h3>
                        <p class="card-label">Fechados</p>
                    </div>
                </div>

                <div class="dashboard-card card-pending">
                    <div class="card-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <line x1="12" y1="8" x2="12" y2="12"/>
                            <line x1="12" y1="16" x2="12.01" y2="16"/>
                        </svg>
                    </div>
                    <div class="card-content">
                        <h3 class="card-value" id="pendingTickets">0</h3>
                        <p class="card-label">Pendentes</p>
                    </div>
                </div>

                <div class="dashboard-card card-overdue">
                    <div class="card-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <polyline points="12 6 12 12 16 14"/>
                            <line x1="12" y1="2" x2="12" y2="6"/>
                        </svg>
                    </div>
                    <div class="card-content">
                        <h3 class="card-value" id="overdueTickets">0</h3>
                        <p class="card-label">Atrasados</p>
                    </div>
                </div>

                <div class="dashboard-card card-average">
                    <div class="card-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="18" y1="20" x2="18" y2="10"/>
                            <line x1="12" y1="20" x2="12" y2="4"/>
                            <line x1="6" y1="20" x2="6" y2="14"/>
                        </svg>
                    </div>
                    <div class="card-content">
                        <h3 class="card-value" id="averageTime">0h</h3>
                        <p class="card-label">Tempo Médio</p>
                    </div>
                </div>
            </div>

            <!-- Gráficos -->
            <div class="dashboard-charts">
                <!-- Gráfico de Barras -->
                <div class="chart-container">
                    <h3 class="chart-title">Chamados por Período</h3>
                    <div class="chart-placeholder" id="barChart">
                        <canvas id="barChartCanvas"></canvas>
                    </div>
                </div>

                <!-- Gráficos de Pizza -->
                <div class="chart-container">
                    <h3 class="chart-title">Distribuição por Status</h3>
                    <div class="chart-placeholder" id="pieChart1">
                        <canvas id="pieChart1Canvas"></canvas>
                    </div>
                </div>

                <div class="chart-container">
                    <h3 class="chart-title">Distribuição por Prioridade</h3>
                    <div class="chart-placeholder" id="pieChart2">
                        <canvas id="pieChart2Canvas"></canvas>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="neodesk.js"></script>
    <script src="dashboard.js"></script>
</body>
</html>